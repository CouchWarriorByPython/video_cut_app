# üé• Video Annotation System

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–µ–æ –∑ Azure Storage, —Ä–æ–∑–º—ñ—Ç–∫–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ñ–≤ —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ —á–µ—Ä–µ–∑ Celery.

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

* **Frontend**: Vanilla JS, HTML, CSS
* **Backend**: FastAPI, Celery, Redis
* **Database**: MongoDB
* **Storage**: Azure Blob Storage
* **Video Processing**: FFmpeg
* **Containerization**: Docker
* **Video Annotation**: CVAT

---

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

* –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π **Docker** —Ç–∞ **Docker Compose**
* –§–∞–π–ª `.env` (–æ—Ç—Ä–∏–º–∞—Ç–∏ —É `dmytrobuz@pro-esupplies.com`)

---

## ‚ö°Ô∏è –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### üìüÔ∏è 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone git@github.com:gtakontur/video-pre-annotator.git
cd video-annotation-system
```

### ‚öôÔ∏è 2. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

* –î–æ–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —É –∫–æ—Ä—ñ–Ω—å –ø—Ä–æ—î–∫—Ç—É (–ø–æ—Ä—É—á –∑ `docker-compose-dev.yml`).

---

### ‚õîÔ∏è 3. –ó—É–ø–∏–Ω–∫–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤

```bash
docker compose -f docker-compose-dev.yml down
```

> üí° –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤–Ω—ñ—Å—Ç—é –æ—á–∏—Å—Ç–∏—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:

```bash
docker compose -f docker-compose-dev.yml down -v
```

---

### üöÄ 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤

* –ó –ø–µ—Ä–µ–±—É–¥–æ–≤–æ—é (–¥–ª—è –ø–µ—Ä—à–æ–≥–æ –∑–∞–ø—É—Å–∫—É –∞–±–æ –ø—ñ—Å–ª—è `git pull`):

  ```bash
  docker compose -f docker-compose-dev.yml up --build
  ```

* –ó–≤–∏—á–∞–π–Ω–∏–π –∑–∞–ø—É—Å–∫:

  ```bash
  docker compose -f docker-compose-dev.yml up
  ```

> üîÅ –©–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —É —Ñ–æ–Ω—ñ, –¥–æ–¥–∞–π `-d`

```bash
docker compose -f docker-compose-dev.yml up -d
```

---

## üåê –î–æ—Å—Ç—É–ø–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏

| –°–µ—Ä–≤—ñ—Å           | URL                                                      | –û–ø–∏—Å                           |
| ---------------- | -------------------------------------------------------- | ------------------------------ |
| –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å    | [http://localhost:8000](http://localhost:8000)           | –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–º—ñ—Ç–∫–∞ –≤—ñ–¥–µ–æ |
| API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è | [http://localhost:8000/docs](http://localhost:8000/docs) | Swagger UI –≤—ñ–¥ FastAPI         |
| Mongo Express    | [http://localhost:8081](http://localhost:8081)           | –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å MongoDB          |
| Flower           | [http://localhost:5555](http://localhost:5555)           | –ú–æ–Ω—ñ—Ç–æ—Ä Celery –∑–∞–¥–∞—á           |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ api/               # FastAPI endpoints
‚îÇ   ‚îú‚îÄ‚îÄ background_tasks/  # Celery –∑–∞–¥–∞—á—ñ
‚îÇ   ‚îú‚îÄ‚îÄ config/            # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ database/          # MongoDB —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ models/            # Pydantic –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
‚îú‚îÄ‚îÄ front/                 # –§—Ä–æ–Ω—Ç–µ–Ω–¥
‚îú‚îÄ‚îÄ docker/                # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ temp/                  # –¢–∏–º—á–∞—Å–æ–≤—ñ —Ñ–∞–π–ª–∏ (auto)
‚îî‚îÄ‚îÄ logs/                  # –õ–æ–≥–∏ (auto)
```

---

## üåü –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### üìÖ 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–µ–æ

* –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤—ñ–¥–µ–æ –∑ Azure Blob URL
* –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä

### ‚úÇÔ∏è 2. –†–æ–∑–º—ñ—Ç–∫–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ñ–≤

* –¢–æ—á–∫–∏ –ø–æ—á–∞—Ç–∫—É/–∫—ñ–Ω—Ü—è –∫–ª—ñ–ø—ñ–≤
* –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø—Ä–æ—î–∫—Ç—ñ–≤: Motion Detection, Tracking, Mil Hardware, Re-ID
* –î–æ–¥–∞–≤–∞–Ω–Ω—è –º–µ—Ç–∞–¥–∞–Ω–∏—Ö: —Ç–∏–ø –¥—Ä–æ–Ω—É, –≤—ñ–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç —Ç–æ—â–æ

### ‚öôÔ∏è 3. Celery –æ–±—Ä–æ–±–∫–∞

* –ù–∞—Ä—ñ–∑–∫–∞ –∫–ª—ñ–ø—ñ–≤ –∑–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∏–º–∏ —Ç–æ—á–∫–∞–º–∏
* –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–ª—ñ–ø—ñ–≤ –Ω–∞–∑–∞–¥ –≤ Azure
* –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–¥–∞—á CVAT –¥–ª—è –∞–Ω–æ—Ç–∞—Ü—ñ—ó

---

## üîß –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–æ—é

### üîö –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤

```bash
# –£—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏
docker compose logs

# –û–∫—Ä–µ–º—ñ —Å–µ—Ä–≤—ñ—Å–∏
docker compose logs app
docker compose logs celery-worker
```

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

* **Flower** ‚Äî Celery dashboard
* **logs/** ‚Äî –ª–æ–≥–∏ —Å–µ—Ä–≤—ñ—Å—ñ–≤
* **Mongo Express** ‚Äî –≥—Ä–∞—Ñ—ñ—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å MongoDB

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

* –§–∞–π–ª `.env` —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º –¥–ª—è –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ –ø—Ä–æ—î–∫—Ç—É